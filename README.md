# VedruChat
Proyecto TFG: Microservicio de chat en vivo

## √çndice

1. [Introducci√≥n](#1-Introducci√≥n)
2. [Funcionalidades del proyecto](#2-Funcionalidades-del-proyecto)
3. [Tecnolog√≠as utilizadas](#3-Tecnolog√≠as-utilizadas)
4. [Gu√≠a de Instalaci√≥n](#4-Gu√≠a-de-instalaci√≥n)
5. [Conclusi√≥n](#5-Conclusi√≥n)
6. [Agradecimientos](#6-Agradecimientos)
7. [Licencia](#7-Licencia)
8.  [Contacto](#8-Contacto)
9.  [Referencias](#9-Referencias-y-recursos-empleados)

## 1. Introducci√≥n

### 1.1. Descripci√≥n del proyecto

**Instadruna** es una red social m√≥vil que permite a estudiantes, profesores y otros miembros de la comunidad Vedruna compartir publicaciones, comentar, seguir a otros usuarios, chatear en tiempo real y gestionar incidencias mediante un sistema de tickets. Inspirada en plataformas como Instagram, pero adaptada al entorno educativo, esta aplicaci√≥n busca ofrecer una experiencia completa de comunicaci√≥n, interacci√≥n y gesti√≥n interna desde una app intuitiva, moderna y accesible para toda la comunidad escolar.

### 1.2. Justificaci√≥n

En un entorno educativo donde la comunicaci√≥n entre estudiantes, docentes y otros miembros de la comunidad es clave, contar con una plataforma propia que centralice interacciones y necesidades resulta fundamental. Las redes sociales tradicionales, aunque populares, no est√°n dise√±adas para adaptarse a los contextos y din√°micas de una comunidad escolar.

**Instadruna** surge como respuesta a esa necesidad: una red social segura, funcional y adaptada a la realidad educativa del centro, que permite compartir informaci√≥n de forma ordenada, promover la interacci√≥n entre usuarios y facilitar la gesti√≥n de incidencias t√©cnicas a trav√©s de un sistema de tickets.

Adem√°s, con su uso, se promueve el aprendizaje digital en todos los niveles: desde el manejo de la app hasta la participaci√≥n en su mejora, convirtiendo la tecnolog√≠a en una aliada para la comunicaci√≥n y la organizaci√≥n dentro del centro educativo.

### 1.3. Objetivos

Objetivo general:

Desarrollar una aplicaci√≥n m√≥vil que funcione como red social interna del centro educativo Vedruna, permitiendo a los miembros de la comunidad compartir contenidos, comunicarse entre s√≠ y gestionar incidencias de forma √°gil, segura y adaptada al contexto escolar.

Objetivos espec√≠ficos:

- Facilitar la creaci√≥n y visualizaci√≥n de publicaciones y comentarios entre los usuarios.
- Fomentar la interacci√≥n mediante funciones de ‚Äúme gusta‚Äù, seguidores y sistema de historias temporales.
- Proveer un canal de comunicaci√≥n privada entre usuarios a trav√©s de chat en tiempo real.
- Permitir la gesti√≥n de incidencias t√©cnicas mediante un sistema de tickets accesible desde la app.
- Garantizar un entorno digital seguro, con autenticaci√≥n a trav√©s de Google y almacenamiento responsable de la informaci√≥n.
- Utilizar herramientas modernas de desarrollo para ofrecer una experiencia intuitiva y fluida.
- Favorecer el uso pedag√≥gico de las tecnolog√≠as digitales dentro del contexto educativo.

### 1.4. Motivaci√≥n

La idea de crear **Instadruna** nace de la observaci√≥n de nuestros docentes, quienes detectan una necesidad real dentro del centro educativo: disponer de un espacio propio donde alumnos, profesionales y dem√°s miembros de la comunidad puedan expresarse, compartir y comunicarse de forma efectiva.

Las plataformas actualmente empleadas, como Classroom, Alexia o el correo electr√≥nico tradicional, aunque funcionales en determinados aspectos, no siempre cubren las necesidades comunicativas reales del d√≠a a d√≠a ni se adaptan con flexibilidad a la din√°mica de una comunidad educativa moderna. A menudo resultan poco intuitivas, est√°n pensadas m√°s para la gesti√≥n acad√©mica que para la interacci√≥n social, y no ofrecen un entorno cercano, seguro y adaptado al contexto del centro.

Frente a esta realidad, surge la motivaci√≥n de construir una red social dise√±ada desde dentro, con las necesidades del propio centro como eje central.

Adem√°s, el desarrollo de **Instadruna** no solo cubre una necesidad comunicativa, sino que se convierte en un proyecto formativo y enriquecedor a nivel t√©cnico. Ha sido una oportunidad √∫nica para aplicar de forma pr√°ctica los conocimientos adquiridos en programaci√≥n, dise√±o de interfaces, bases de datos y despliegue, permiti√©ndome crecer como desarrolladora y enfrentarme a los retos reales del ciclo de vida de una aplicaci√≥n.

Pero, m√°s all√° del aspecto t√©cnico, lo verdaderamente motivador ha sido la posibilidad de aplicar todo ese aprendizaje en algo tangible, √∫til y con impacto directo en mi entorno. **Instadruna** es, en cierto modo, una forma de devolver al centro parte de lo que me ha brindado durante estos dos a√±os de formaci√≥n. Un peque√±o legado con el que contribuir al fortalecimiento de la comunidad educativa desde la tecnolog√≠a.

## 2. Funcionalidades del proyecto

**Instadruna** est√° dise√±ada para ofrecer una experiencia completa de interacci√≥n, comunicaci√≥n y gesti√≥n dentro de un entorno educativo. Inspirada en redes sociales populares pero adaptada a las necesidades de un centro escolar, la aplicaci√≥n incorpora las siguientes funcionalidades clave:

- **Publicaciones:** Permite crear publicaciones p√∫blicas o privadas con texto y, opcionalmente, imagen, para compartir informaci√≥n, ideas o mensajes con la comunidad o con personas concretas.

- **Comentarios y reacciones:** Las publicaciones pueden recibir comentarios (padre e hijo) y reacciones en forma de "me gusta", fomentando el di√°logo y la participaci√≥n.

- **Sistema de historias (Stories):** Posibilita compartir historias ef√≠meras visibles durante un tiempo determinado, siguiendo el estilo de otras redes sociales visuales.

- **Gesti√≥n de incidencias:** A trav√©s de un sistema de tickets, se pueden comunicar incidencias t√©cnicas o necesidades espec√≠ficas al equipo de IT del centro, haciendo seguimiento del estado de cada caso.

- **Mensajer√≠a instant√°nea:** Ofrece un sistema de chat para comunicaci√≥n directa y en tiempo real entre usuarios que se siguen mutuamente.

- **Red de seguidores:** Permite seguir o dejar de seguir a otros miembros de la comunidad y consultar qui√©nes le siguen y a qui√©n sigue cada usuario.

- **Perfil personal:** Permite visualizar las publicaciones del usuario, los contenidos que le han gustado, sus datos personales, imagen (editable), y consultar estad√≠sticas b√°sicas como n√∫mero de publicaciones, seguidores y seguidos.

- **Autenticaci√≥n con Google:** Utiliza un sistema de acceso seguro mediante cuentas de Google, lo que simplifica el inicio de sesi√≥n y garantiza un entorno protegido.

- **Notificaciones:** Mantiene a los usuarios actualizados sobre nuevos cambios en la plataforma.

## 3. Tecnolog√≠as utilizadas

**Instadruna** se ha desarrollado aplicando una arquitectura modular por capas, que combina un frontend m√≥vil, un backend principal y un microservicio independiente para el chat. Esta separaci√≥n facilita la escalabilidad, el mantenimiento independiente de cada m√≥dulo y una arquitectura m√°s limpia y organizada. En este espacio hablaremos de las tecnolog√≠as utilizadas en el backend principal.

### Microservicio de chat (Node.js + WebSockets)

**Instadruna** incorpora un microservicio independiente para la mensajer√≠a instant√°nea, encargado exclusivamente de gestionar las comunicaciones en tiempo real, desacoplado del backend principal para optimizar el rendimiento y la escalabilidad:

- **Node.js + Express:** Para definir las rutas b√°sicas y el servidor del microservicio.
- **Socket.IO:** Implementaci√≥n de WebSockets para la comunicaci√≥n en tiempo real entre usuarios.
- **LibSQL (@libsql/client):** Motor de base de datos ligero y r√°pido, usado para almacenar los mensajes del chat.
- **Morgan:** Middleware para el registro de peticiones HTTP.
- **dotenv:** Para la configuraci√≥n de variables de entorno.

### Despliegue y Servicios Adicionales

- **Azure:** El backend principal y el microservicio de chat se desplegar√°n en Azure, ambos dockerizados para una mayor portabilidad y gesti√≥n eficiente.
- **LibSQL (Microservicio de Chat):** LibSQL, alojada en Turso, para almacenar los mensajes del chat.

## 4. Gu√≠a de Instalaci√≥n

## 4.1. Requisitos previos

Antes de comenzar, aseg√∫rate de tener instaladas las siguientes herramientas:

- **Node.js** (versi√≥n 16 o superior)
- **npm**
- **Java 17** (o versi√≥n compatible con **Spring Boot 3**)
- **Docker** (para contenerizaci√≥n y despliegue en MV Azure)
- **Expo CLI** (**npm install -g expo-cli**)
- **MySQL** (local o servidor flexible en Azure, accesible desde la MV Azure)
- Cuenta activa en **Turso** (para almacenamiento de bases de datos del chat en la nube).
- Cuenta activa en **Azure** (para despliegue en la MV Azure).
- Cuenta activa en **Google** (para autenticaci√≥n con Google Sign-In).
- Cuenta activa en **Expo** (para notificaciones en tiempo real).  

## 4.2. Instalaci√≥n del Microservicio de chat (Node.js + Socket.IO)

### 4.2.1. Instalaci√≥n local

1. Clona el repositorio del microservicio de chat:

```bash
git clone https://github.com/DiMaPaGa/VedruChat.git
cd VedruChat
```

2. Instala las dependencias del microservicio de chat:

```bash
npm install
```

3. Inicia el microservicio de chat:

```bash
npm run dev
```


### 4.2.2 Arrancar proyectos backend y microservicios desplegados en Azure

1. Clona el repositorio del microservicio de chat en un nuevo directorio:

```bash
git clone https://github.com/DiMaPaGa/VedruChat.git
cd VedruChat
```

2. Crea un archivo `.env` con las variables de entorno:

```bash
cp .env.example .env
```
3. Crea un archivo `Dockerfile` para el microservicio de chat con la siguiente configuraci√≥n:

```bash
# Imagen base oficial de Node.js
FROM node:20

# Establece el directorio de trabajo dentro del contenedor
WORKDIR /app

# Copia los archivos necesarios
COPY package*.json ./
COPY server/ ./server/
COPY client/ ./client/
COPY .env ./

# Instala las dependencias
RUN npm install

# Expone el puerto (ajusta si usas otro en .env)
EXPOSE 3000

# Comando para arrancar el servidor
CMD ["node", "server/index.js"]
```

4. Crea un directorio `backend` para el backend principal en el mismo nivel en el que est√© el microservicio de chat e incorpora el .jar del proyecto principal.
   
5. Crea un archivo `Dockerfile` para el backend con la siguiente configuraci√≥n: 

```bash
# Usa una imagen base de OpenJDK
FROM openjdk:17-jdk-slim

# Establece el directorio de trabajo dentro del contenedor
WORKDIR /app

# Copia el archivo .jar a la imagen
COPY vedruna-backend-0.0.1-SNAPSHOT.jar /app/vedruna-backend.jar

# Copia el archivo .env a la imagen
COPY .env /app/.env


# Expone el puerto en el que se ejecuta la aplicaci√É¬≥n
EXPOSE 8080

# Comando para ejecutar la aplicaci√É¬≥n Spring Boot
ENTRYPOINT ["java", "-jar", "vedruna-backend.jar"]
```

6. Crea un archivo .env con las variables de entorno. 

7. Crea un archivo `docker-compose.yml` con la siguiente configuraci√≥n:

```bash
version: '3.8'

services:
  backend:
    build:
      context: ./backend
    container_name: vedruna-backend
    env_file: ./backend/.env
    ports:
      - "8080:8080"
    networks:
      - app-network

  chat:
    build:
      context: ./chat
    container_name: chat-app
    env_file: ./chat/.env
    ports:
      - "3000:3000"
    depends_on:
      - backend
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
```

8. Ejecuta el comando `docker-compose up` para arrancar los proyectos en contenedores Docker.

9. Accede a http://51.120.11.157:8080/swagger-ui/index.html para ver la documentaci√≥n de la API.


## 5. Conclusi√≥n

**Instadruna** ha sido concebida como una red social interna para el centro educativo que promueva en esta comunidad la comunicaci√≥n fluida, la interacci√≥n entre usuarios y la gesti√≥n de incidencias de forma directa y eficaz. El desarrollo del proyecto ha seguido una arquitectura modular por capas, incorporando un frontend m√≥vil con React Native, un backend principal robusto con Spring Boot y un microservicio de mensajer√≠a en tiempo real basado en Node.js y WebSockets.

El uso de tecnolog√≠as modernas, patrones de dise√±o claros y una divisi√≥n l√≥gica de responsabilidades permite no solo una experiencia de usuario intuitiva y responsiva, sino tambi√©n una plataforma f√°cilmente escalable, mantenible y abierta a futuras ampliaciones. Entre las funcionalidades destacadas se incluyen la publicaci√≥n y reacci√≥n a contenido, la mensajer√≠a instant√°nea, la autenticaci√≥n con Google, el env√≠o de notificaciones y la comunicaci√≥n de incidencias.

Este proyecto comenz√≥ como una simple idea planteada en el segundo trimestre del curso, con el objetivo de dar respuesta a una necesidad real dentro de los entornos formativos. A lo largo del proceso, se ha transformado en algo mucho m√°s grande: una propuesta funcional, con una arquitectura s√≥lida, pensada para crecer.

M√°s all√° de su estado actual, **Instadruna** representa una muestra del poder que tienen las nuevas tecnolog√≠as para conectar comunidades, facilitar la colaboraci√≥n y dar forma a soluciones √∫tiles. Ojal√° esta primera piedra sirva para que otros puedan construir sobre ella: adapt√°ndola, ampli√°ndola y mejor√°ndola seg√∫n las nuevas necesidades que surjan. Porque, al final, esto no solo ha sido un proyecto de fin de grado. Ha sido una oportunidad para aprender haciendo, y despedirme sabiendo que, de alguna forma, tambi√©n dejo algo aportado.

**Instadruna** es apenas el comienzo de una historia m√°s grande. Que quienes vengan despu√©s sigan caminando este sendero, ya sea guiados por la luz de E√§rendil‚Ä¶ o impulsados por la Fuerza. ***Porque toda aventura merece ser continuada***.


## 6. Agradecimientos

A todos aquellos amigos y familiares que han estado apoy√°ndome desde el primer momento en que inici√© esta locura. Gracias por seguir a mi lado a pesar de las quedadas pospuestas, de las ausencias justificadas por el trabajo, y de todo el tiempo que esta etapa ha exigido. Cada palabra de aliento, cada gesto, cada comprensi√≥n, ha contado m√°s de lo que imagin√°is.

A mis profesores, por la confianza que siempre han depositado en m√≠, incluso aquellos con los que ya no coincid√≠ en este √∫ltimo curso, pero que dejaron huella con su apoyo y ense√±anzas.

A mis compa√±eros, por hacerme sentir especial sin serlo, por esos √°nimos constantes que me han acompa√±ado en cada fase del proyecto, y por sostenerme en los momentos donde flaquear parec√≠a m√°s f√°cil que continuar.

A mi pareja, que ha hecho de la paciencia una virtud. No sabr√≠a contar cu√°ntas veces se ha asomado al cuarto donde programaba, solo para comprobar si segu√≠a viva o si necesitaba algo. Tambi√©n ha estado ah√≠ para soportar mis momentos de duda y agotamiento, y eso vale m√°s que cualquier l√≠nea de c√≥digo.

A los nuevos compa√±eros, colegas y superiores que me empiezan a acompa√±ar en esta nueva etapa profesional y personal. Me hab√©is demostrado que hay formas sanas y humanas de crecer en equipo, y que confiar en uno mismo es m√°s f√°cil cuando otros tambi√©n creen en ti.

Gracias. A todos los que est√°is y estar√©is. Este producto, este avance, esta evoluci√≥n... han sido posibles porque me hab√©is hecho creer e ilusionarme con la idea de que **s√≠, era posible**.

## 7. Licencia

**Instadruna** est√° bajo la licencia **MIT**, lo que te permite utilizar, modificar y distribuir este proyecto bajo las siguientes condiciones:

- Permiso para usar, copiar, modificar, fusionar, publicar, distribuir, sublicenciar y vender copias del software.
- El software se proporciona ‚Äútal cual‚Äù, sin ninguna garant√≠a expresa o impl√≠cita.

### Licencias de Dependencias

Este proyecto tambi√©n incluye dependencias de diversas librer√≠as y tecnolog√≠as que tienen sus propias licencias. A continuaci√≥n, se detalla el tipo de licencia de cada una de las dependencias del frontend:

- **React Native**: [Licencia MIT](https://github.com/facebook/react-native/blob/main/LICENSE)
- **Expo**: [Licencia MIT](https://github.com/expo/expo/blob/main/LICENSE)

## 8. Contacto

Para cualquier consulta, sugerencia o propuesta relacionada con el proyecto **Instadruna**, no dudes en ponerte en contacto a trav√©s de los siguientes canales:

- üìß **Correo electr√≥nico**: dianamariapascual@gmail.com  
- üíº **LinkedIn**: [Diana Pascual Garc√≠a](https://www.linkedin.com/in/diana-pascual-garc%C3%ADa-47209431) 
- üíª **GitHub**: [https://github.com/DiMaPaGa](https://github.com/DiMaPaGa)

Estar√© encantada de atenderte y colaborar en todo lo posible.  
Gracias de antemano por tu inter√©s.

## 9. Referencias y recursos empleados:

A continuaci√≥n se presenta una recopilaci√≥n de las principales fuentes de informaci√≥n y recursos utilizados durante el desarrollo del proyecto.

### üìö Documentaci√≥n oficial
  
- [LibSQL (Turso) ‚Äì Repositorio GitHub](https://github.com/tursodatabase/libsql)  
- [Azure ‚Äì Documentaci√≥n oficial](https://learn.microsoft.com/en-us/azure/?product=popular)  

### üß∞ Herramientas de desarrollo y dise√±o
 
- [Turso / LibSQL ‚Äì Base de datos SQLite distribuida](https://app.turso.tech/diadre/databases/teaching-atlas/outerbase)

### üí¨ Comunicaci√≥n en tiempo real

- [Socket.IO ‚Äì Cliente/Servidor en tiempo real](https://github.com/socketio/socket.io)  
- [Node.js ‚Äì Entorno de ejecuci√≥n JavaScript](https://github.com/nodejs/node)      

### üé• Tutoriales y videos de referencia

- [YouTube ‚Äì Introducci√≥n a Socket.IO](https://www.youtube.com/watch?v=ff9phJxk5ck)  
- [YouTube ‚Äì Chat con React Native y Socket.IO](https://www.youtube.com/watch?v=9WolTP6Wz9I)  

